{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{\"4ZY9\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(\"vDqi\"),o=n.n(r),c=function(e){e.req;return o.a.create({baseURL:\"/\"})}},HPDO:function(e,t,n){\"use strict\";var r=n(\"nKUr\"),o=n(\"q1tI\"),c=n(\"3mGJ\"),s=n(\"+6Dn\"),a=n(\"aQu0\"),d=n(\"QetY\"),i=n(\"Mt1y\"),l=n(\"yE/o\"),b=n(\"20a2\"),m=n.n(b);t.a=function(e){var t=e.children,n=e.fullPageLeaderboard,b=e.smallLeaderboard,u=e.leaderboardData,p=e.heightOverride;return Object(r.jsxs)(o.Fragment,{children:[function(e){var t=e.header,o=e.subHeader,l=e.btnText,u=e.btnPath,p=e.dividerText;return Object(r.jsxs)(c.a,{basic:!0,style:n?{minHeight:\"calc(100vh - 2rem)\"}:{minHeight:\"33vh\"},children:[Object(r.jsx)(s.a,{columns:1,centered:!0,style:n?{minHeight:\"calc(100vh - 2rem)\"}:{minHeight:\"33vh\"},children:Object(r.jsx)(s.a.Row,{verticalAlign:\"middle\",children:Object(r.jsx)(s.a.Column,{children:Object(r.jsxs)(a.a,{as:\"h2\",textAlign:\"center\",children:[t,Object(r.jsx)(a.a.Subheader,{children:o}),u&&l&&Object(r.jsx)(d.a,{color:\"linkedin\",style:{marginTop:\"1rem\"},onClick:function(){return m.a.push(u)},children:l})]})})})}),b?Object(r.jsx)(i.a,{horizontal:!0,children:p}):\"\"]})}(u),Object(r.jsx)(l.a,{style:b?{minHeight:p||\"67vh\"}:{minHeight:p||null},children:t})]})}},ejde:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/user/[site]/admin/[service]/email\",function(){return n(\"ew1W\")}])},ew1W:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),o=n.n(r),c=n(\"HaE+\"),s=n(\"nKUr\"),a=n(\"4ZY9\"),d=n(\"rePB\"),i=n(\"q1tI\"),l=n(\"z8k1\"),b=n(\"vFsZ\"),m=n(\"umxb\"),u=n(\"QetY\"),p=n(\"yE/o\"),j=n(\"3mGJ\"),f=n(\"qYya\"),O=n(\"20a2\"),h=n.n(O),x=(n(\"O2/f\"),n(\"mf96\")),y=n.n(x);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.email,n=e.path,r=e.ownerId,a=Object(i.useState)({subject:\"\",body:\"\",oldBody:\"\",productId:\"\",loading:!1}),O=a[0],x=a[1],v=Object(f.a)({url:\"/api/notification/email-by-product/\".concat(r,\"/\").concat(O.productId),method:\"put\",body:{subject:O.subject,body:O.body||O.oldBody},onSuccess:function(){return h.a.push(n)}}),w=v.doRequest;v.errors;Object(i.useEffect)((function(){if(t){var e=t.subject,n=t.productId,r=t.body;x(k(k({},O),{},{subject:e,oldBody:r,productId:n}))}}),[]);var g=function(e){x(k(k({},O),{},{body:e}))},_=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),x(k(k({},O),{},{loading:!0})),e.next=4,w();case 4:e.sent,x(k(k({},O),{},{loading:!1}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)(p.a,{style:{minHeight:\"90vh\"},children:[Object(s.jsx)(j.a,{children:function(){var e,t=O.subject,n=(O.body,O.loading);return Object(s.jsxs)(l.a,{fluid:!0,children:[Object(s.jsx)(l.a.Content,{children:Object(s.jsxs)(b.a,{loading:n,children:[Object(s.jsxs)(b.a.Field,{children:[Object(s.jsx)(\"label\",{children:\"Subject\"}),Object(s.jsx)(m.a,{placeholder:\"subject\",onChange:(e=\"subject\",function(t){x(k(k({},O),{},Object(d.a)({},e,t.target.value)))}),className:\"form-control\",value:t})]}),Object(s.jsx)(b.a.Field,{children:Object(s.jsx)(y.a,{onBodyChange:g,oldBody:O.oldBody})})]})}),Object(s.jsx)(u.a,{type:\"submit\",fluid:!0,onClick:_,children:\"Update\"})]})}()}),\";\"]})},g=n(\"HPDO\"),_=function(e){var t=e.email,n=e.ownerId;return Object(s.jsx)(g.a,{leaderboardData:{header:\"Customize your automated reply\",subHeader:\"This is email is sent immediately upon receipt of order\"},children:Object(s.jsx)(w,{email:t,path:Object(O.useRouter)().asPath,ownerId:n})})};_.getInitialProps=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.a)(t).get(\"/api/product/\".concat(t.query.site,\"/\").concat(t.query.service));case 2:return n=e.sent,r=n.data,e.next=6,Object(a.a)(t).get(\"/api/notification/email-by-product/\".concat(r.id));case 6:return c=e.sent,s=c.data,e.abrupt(\"return\",{email:s,ownerId:r.site.ownerId});case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=_},mf96:function(e,t){throw new Error('Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-babel-loader.js):\\nSyntaxError: /Users/rjb/Desktop/code/projects/rfp/client/components/email/index.js: \\'import\\' and \\'export\\' may only appear at the top level (2:2)\\n\\n\\x1b[0m \\x1b[90m 1 | \\x1b[39m\\x1b[36mif\\x1b[39m (\\x1b[36mtypeof\\x1b[39m window \\x1b[33m!==\\x1b[39m \\x1b[32m\"undefined\"\\x1b[39m) {\\x1b[0m\\n\\x1b[0m\\x1b[31m\\x1b[1m>\\x1b[22m\\x1b[39m\\x1b[90m 2 | \\x1b[39m  \\x1b[36mimport\\x1b[39m \\x1b[32m\"react-quill/dist/quill.snow.css\"\\x1b[39m\\x1b[33m;\\x1b[39m \\x1b[90m// ES6\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m   | \\x1b[39m  \\x1b[31m\\x1b[1m^\\x1b[22m\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 3 | \\x1b[39m  \\x1b[36mimport\\x1b[39m \\x1b[33mReactQuill\\x1b[39m from \\x1b[32m\"react-quill\"\\x1b[39m\\x1b[33m;\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 4 | \\x1b[39m}\\x1b[0m\\n\\x1b[0m \\x1b[90m 5 | \\x1b[39m\\x1b[36mimport\\x1b[39m \\x1b[33mReact\\x1b[39m\\x1b[33m,\\x1b[39m { \\x1b[33mFragment\\x1b[39m\\x1b[33m,\\x1b[39m useEffect\\x1b[33m,\\x1b[39m useState } from \\x1b[32m\"react\"\\x1b[39m\\x1b[33m;\\x1b[39m\\x1b[0m\\n    at Object._raise (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:28993)\\n    at Object.raiseWithData (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:28932)\\n    at Object.raise (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:28753)\\n    at Object.parseStatementContent (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:229657)\\n    at Object.parseStatement (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:228228)\\n    at Object.parseBlockOrModuleBlockBody (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238718)\\n    at Object.parseBlockBody (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238543)\\n    at Object.parseBlock (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238236)\\n    at Object.parseStatementContent (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:229451)\\n    at Object.parseStatement (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:228228)\\n    at Object.parseIfStatement (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:234568)\\n    at Object.parseStatementContent (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:228953)\\n    at Object.parseStatement (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:228228)\\n    at Object.parseBlockOrModuleBlockBody (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238718)\\n    at Object.parseBlockBody (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238543)\\n    at Object.parseTopLevel (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:226803)')}},[[\"ejde\",1,2,0,3,4,5,6,7,8,9,10]]]);","map":{"version":3,"sources":["static/chunks/pages/user/[site]/admin/[service]/email-5c33baaab2cfa56c57f9.js"],"names":["_N_E","window","push","4ZY9","module","__webpack_exports__","__webpack_require__","d","buildClient","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","_ref","req","a","create","baseURL","HPDO","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__","next_router__WEBPACK_IMPORTED_MODULE_8__","next_router__WEBPACK_IMPORTED_MODULE_8___default","children","fullPageLeaderboard","smallLeaderboard","leaderboardData","heightOverride","Object","_ref2","header","subHeader","btnText","btnPath","dividerText","basic","style","minHeight","columns","centered","Row","verticalAlign","Column","as","textAlign","Subheader","color","marginTop","onClick","horizontal","showLeaderboard","ejde","exports","__NEXT_P","ew1W","r","regenerator","regenerator_default","asyncToGenerator","jsx_runtime","build_client","defineProperty","react","Card","Form","Input","Button","Container","Segment","use_request","router","router_default","components_email","email_default","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","user_site_UpdateOrderEmail","email","path","ownerId","_useState","subject","body","oldBody","productId","loading","values","setValues","_useRequest","url","concat","method","onSuccess","doRequest","errors","handleBodyChange","handleSubmit","mark","_callee","evt","wrap","_context","prev","next","preventDefault","sent","stop","_x","this","name","fluid","Content","Field","placeholder","onChange","value","className","onBodyChange","type","formCard","layouts","email_index","asPath","getInitialProps","context","_yield$buildClient$ge","product","_yield$buildClient$ge2","get","query","site","service","data","id","abrupt","mf96","Error"],"mappings":"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"},"name":"static/chunks/pages/user/[site]/admin/[service]/email-5c33baaab2cfa56c57f9.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[42],{\n\n/***/ \"4ZY9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return buildClient; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar buildClient = function buildClient(_ref) {\n  var req = _ref.req;\n\n  if (false) { var baseURL; } else {\n    // On the browser\n    return axios__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n      baseURL: \"/\"\n    });\n  }\n};\n\n\n\n/***/ }),\n\n/***/ \"HPDO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"3mGJ\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"+6Dn\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"aQu0\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"QetY\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"Mt1y\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"yE/o\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\nvar Layout = function Layout(_ref) {\n  var children = _ref.children,\n      fullPageLeaderboard = _ref.fullPageLeaderboard,\n      smallLeaderboard = _ref.smallLeaderboard,\n      leaderboardData = _ref.leaderboardData,\n      heightOverride = _ref.heightOverride;\n\n  // fullpageleaderboard\n  // smallleaderboard\n  // calculate out the difference in the full and small\n  // mobile menu button is 36px\n  var showLeaderboard = function showLeaderboard(_ref2) {\n    var header = _ref2.header,\n        subHeader = _ref2.subHeader,\n        btnText = _ref2.btnText,\n        btnPath = _ref2.btnPath,\n        dividerText = _ref2.dividerText;\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n      basic: true,\n      style: fullPageLeaderboard ? {\n        minHeight: \"calc(100vh - 2rem)\"\n      } : {\n        minHeight: \"33vh\"\n      },\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n        columns: 1,\n        centered: true,\n        style: fullPageLeaderboard ? {\n          minHeight: \"calc(100vh - 2rem)\"\n        } : {\n          minHeight: \"33vh\"\n        },\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].Row, {\n          verticalAlign: \"middle\",\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].Column, {\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n              as: \"h2\",\n              textAlign: \"center\",\n              children: [header, /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].Subheader, {\n                children: subHeader\n              }), btnPath && btnText && /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n                color: \"linkedin\",\n                style: {\n                  marginTop: \"1rem\"\n                },\n                onClick: function onClick() {\n                  return next_router__WEBPACK_IMPORTED_MODULE_8___default.a.push(btnPath);\n                },\n                children: btnText\n              })]\n            })\n          })\n        })\n      }), !smallLeaderboard ? \"\" : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n        horizontal: true,\n        children: dividerText\n      })]\n    });\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], {\n    children: [showLeaderboard(leaderboardData), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n      style: smallLeaderboard ? {\n        minHeight: heightOverride || \"67vh\"\n      } : {\n        minHeight: heightOverride || null\n      },\n      children: children\n    })]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Layout);\n\n/***/ }),\n\n/***/ \"ejde\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/user/[site]/admin/[service]/email\",\n        function () {\n          return __webpack_require__(\"ew1W\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"ew1W\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"o0o1\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"HaE+\");\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./api/build-client.js\nvar build_client = __webpack_require__(\"4ZY9\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"rePB\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/views/Card/Card.js + 5 modules\nvar Card = __webpack_require__(\"z8k1\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Form/Form.js + 13 modules\nvar Form = __webpack_require__(\"vFsZ\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Input/Input.js\nvar Input = __webpack_require__(\"umxb\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Button/Button.js + 3 modules\nvar Button = __webpack_require__(\"QetY\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Container/Container.js\nvar Container = __webpack_require__(\"yE/o\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js + 2 modules\nvar Segment = __webpack_require__(\"3mGJ\");\n\n// EXTERNAL MODULE: ./hooks/use-request.js\nvar use_request = __webpack_require__(\"qYya\");\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar router = __webpack_require__(\"20a2\");\nvar router_default = /*#__PURE__*/__webpack_require__.n(router);\n\n// EXTERNAL MODULE: ./components/admin-site/delete-product.js\nvar delete_product = __webpack_require__(\"O2/f\");\n\n// EXTERNAL MODULE: ./components/email/index.js\nvar components_email = __webpack_require__(\"mf96\");\nvar email_default = /*#__PURE__*/__webpack_require__.n(components_email);\n\n// CONCATENATED MODULE: ./components/user-site/UpdateOrderEmail.js\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\nvar UpdateOrderEmail_UpdateOrderEmail = function UpdateOrderEmail(_ref) {\n  var email = _ref.email,\n      path = _ref.path,\n      ownerId = _ref.ownerId;\n\n  var _useState = Object(react[\"useState\"])({\n    subject: \"\",\n    body: \"\",\n    oldBody: \"\",\n    productId: \"\",\n    loading: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var _useRequest = Object(use_request[\"a\" /* useRequest */])({\n    url: \"/api/notification/email-by-product/\".concat(ownerId, \"/\").concat(values.productId),\n    method: \"put\",\n    body: {\n      subject: values.subject,\n      body: values.body || values.oldBody\n    },\n    onSuccess: function onSuccess() {\n      return router_default.a.push(path);\n    }\n  }),\n      doRequest = _useRequest.doRequest,\n      errors = _useRequest.errors;\n\n  Object(react[\"useEffect\"])(function () {\n    if (email) {\n      var subject = email.subject,\n          productId = email.productId,\n          body = email.body;\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        subject: subject,\n        oldBody: body,\n        productId: productId\n      }));\n    }\n  }, []);\n\n  var handleChange = function handleChange(name) {\n    return function (evt) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, Object(defineProperty[\"a\" /* default */])({}, name, evt.target.value)));\n    };\n  };\n\n  var handleBodyChange = function handleBodyChange(body) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      body: body\n    }));\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(evt) {\n      var res;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              evt && evt.preventDefault();\n              setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: true\n              }));\n              _context.next = 4;\n              return doRequest();\n\n            case 4:\n              res = _context.sent;\n              setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false\n              }));\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var formCard = function formCard() {\n    var subject = values.subject,\n        body = values.body,\n        loading = values.loading;\n    return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */], {\n      fluid: true,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Content, {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */], {\n          loading: loading,\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field, {\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n              children: \"Subject\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */], {\n              placeholder: \"subject\",\n              onChange: handleChange(\"subject\"),\n              className: \"form-control\",\n              value: subject\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Field, {\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(email_default.a, {\n              onBodyChange: handleBodyChange,\n              oldBody: values.oldBody\n            })\n          })]\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n        type: \"submit\",\n        fluid: true,\n        onClick: handleSubmit,\n        children: \"Update\"\n      })]\n    });\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */], {\n    style: {\n      minHeight: \"90vh\"\n    },\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Segment[\"a\" /* default */], {\n      children: formCard()\n    }), \";\"]\n  });\n};\n\n/* harmony default export */ var user_site_UpdateOrderEmail = (UpdateOrderEmail_UpdateOrderEmail);\n// EXTERNAL MODULE: ./components/layouts/index.js\nvar layouts = __webpack_require__(\"HPDO\");\n\n// CONCATENATED MODULE: ./pages/user/[site]/admin/[service]/email.js\n\n\n\n// create the email associated with this service\n\n\n\n\n\nvar email_index = function index(_ref) {\n  var email = _ref.email,\n      ownerId = _ref.ownerId;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(layouts[\"a\" /* default */], {\n    leaderboardData: {\n      header: \"Customize your automated reply\",\n      subHeader: \"This is email is sent immediately upon receipt of order\"\n    },\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(user_site_UpdateOrderEmail, {\n      email: email,\n      path: Object(router[\"useRouter\"])().asPath,\n      ownerId: ownerId\n    })\n  });\n};\n\nemail_index.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(context) {\n    var _yield$buildClient$ge, product, _yield$buildClient$ge2, email;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Object(build_client[\"a\" /* buildClient */])(context).get(\"/api/product/\".concat(context.query.site, \"/\").concat(context.query.service));\n\n          case 2:\n            _yield$buildClient$ge = _context.sent;\n            product = _yield$buildClient$ge.data;\n            _context.next = 6;\n            return Object(build_client[\"a\" /* buildClient */])(context).get(\"/api/notification/email-by-product/\".concat(product.id));\n\n          case 6:\n            _yield$buildClient$ge2 = _context.sent;\n            email = _yield$buildClient$ge2.data;\n            return _context.abrupt(\"return\", {\n              email: email,\n              ownerId: product.site.ownerId\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ var _service_email = __webpack_exports__[\"default\"] = (email_index);\n\n/***/ }),\n\n/***/ \"mf96\":\n/***/ (function(module, exports) {\n\nthrow new Error(\"Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-babel-loader.js):\\nSyntaxError: /Users/rjb/Desktop/code/projects/rfp/client/components/email/index.js: 'import' and 'export' may only appear at the top level (2:2)\\n\\n\\u001b[0m \\u001b[90m 1 | \\u001b[39m\\u001b[36mif\\u001b[39m (\\u001b[36mtypeof\\u001b[39m window \\u001b[33m!==\\u001b[39m \\u001b[32m\\\"undefined\\\"\\u001b[39m) {\\u001b[0m\\n\\u001b[0m\\u001b[31m\\u001b[1m>\\u001b[22m\\u001b[39m\\u001b[90m 2 | \\u001b[39m  \\u001b[36mimport\\u001b[39m \\u001b[32m\\\"react-quill/dist/quill.snow.css\\\"\\u001b[39m\\u001b[33m;\\u001b[39m \\u001b[90m// ES6\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m   | \\u001b[39m  \\u001b[31m\\u001b[1m^\\u001b[22m\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 3 | \\u001b[39m  \\u001b[36mimport\\u001b[39m \\u001b[33mReactQuill\\u001b[39m from \\u001b[32m\\\"react-quill\\\"\\u001b[39m\\u001b[33m;\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 4 | \\u001b[39m}\\u001b[0m\\n\\u001b[0m \\u001b[90m 5 | \\u001b[39m\\u001b[36mimport\\u001b[39m \\u001b[33mReact\\u001b[39m\\u001b[33m,\\u001b[39m { \\u001b[33mFragment\\u001b[39m\\u001b[33m,\\u001b[39m useEffect\\u001b[33m,\\u001b[39m useState } from \\u001b[32m\\\"react\\\"\\u001b[39m\\u001b[33m;\\u001b[39m\\u001b[0m\\n    at Object._raise (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:28993)\\n    at Object.raiseWithData (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:28932)\\n    at Object.raise (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:28753)\\n    at Object.parseStatementContent (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:229657)\\n    at Object.parseStatement (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:228228)\\n    at Object.parseBlockOrModuleBlockBody (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238718)\\n    at Object.parseBlockBody (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238543)\\n    at Object.parseBlock (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238236)\\n    at Object.parseStatementContent (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:229451)\\n    at Object.parseStatement (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:228228)\\n    at Object.parseIfStatement (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:234568)\\n    at Object.parseStatementContent (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:228953)\\n    at Object.parseStatement (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:228228)\\n    at Object.parseBlockOrModuleBlockBody (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238718)\\n    at Object.parseBlockBody (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:238543)\\n    at Object.parseTopLevel (/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/compiled/babel/bundle.js:2113:226803)\");\n\n/***/ })\n\n},[[\"ejde\",1,2,0,3,4,5,6,7,8,9,10]]]);","inputSourceMap":{"version":3,"sources":["/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/rjb/Desktop/code/projects/rfp/client/api/build-client.js","/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/rjb/Desktop/code/projects/rfp/client/components/layouts/index.js","/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fuser%2F%5Bsite%5D%2Fadmin%2F%5Bservice%5D%2Femail&absolutePagePath=private-next-pages%2Fuser%2F%5Bsite%5D%2Fadmin%2F%5Bservice%5D%2Femail.js!","/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/rjb/Desktop/code/projects/rfp/client/components/user-site/UpdateOrderEmail.js","/Users/rjb/Desktop/code/projects/rfp/client/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/rjb/Desktop/code/projects/rfp/client/pages/user/[site]/admin/[service]/email.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["import axios from \"axios\";\n\nvar buildClient = function buildClient(_ref) {\n  var req = _ref.req;\n\n  if (false) {\n    var baseURL = \"https://\" + req.headers.host + \"/\"; // const baseURL =\n    //   \"http://ingress-nginx-controller.ingress-nginx.svc.cluster.local\";\n\n    return axios.create({\n      baseURL: baseURL,\n      headers: req.headers\n    });\n  } else {\n    // On the browser\n    return axios.create({\n      baseURL: \"/\"\n    });\n  }\n};\n\nexport { buildClient };","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment } from \"react\";\nimport { Container, Segment, Header, Grid, Button, Divider } from \"semantic-ui-react\";\nimport Router from \"next/router\";\n\nvar Layout = function Layout(_ref) {\n  var children = _ref.children,\n      fullPageLeaderboard = _ref.fullPageLeaderboard,\n      smallLeaderboard = _ref.smallLeaderboard,\n      leaderboardData = _ref.leaderboardData,\n      heightOverride = _ref.heightOverride;\n\n  // fullpageleaderboard\n  // smallleaderboard\n  // calculate out the difference in the full and small\n  // mobile menu button is 36px\n  var showLeaderboard = function showLeaderboard(_ref2) {\n    var header = _ref2.header,\n        subHeader = _ref2.subHeader,\n        btnText = _ref2.btnText,\n        btnPath = _ref2.btnPath,\n        dividerText = _ref2.dividerText;\n    return /*#__PURE__*/_jsxs(Segment, {\n      basic: true,\n      style: fullPageLeaderboard ? {\n        minHeight: \"calc(100vh - 2rem)\"\n      } : {\n        minHeight: \"33vh\"\n      },\n      children: [/*#__PURE__*/_jsx(Grid, {\n        columns: 1,\n        centered: true,\n        style: fullPageLeaderboard ? {\n          minHeight: \"calc(100vh - 2rem)\"\n        } : {\n          minHeight: \"33vh\"\n        },\n        children: /*#__PURE__*/_jsx(Grid.Row, {\n          verticalAlign: \"middle\",\n          children: /*#__PURE__*/_jsx(Grid.Column, {\n            children: /*#__PURE__*/_jsxs(Header, {\n              as: \"h2\",\n              textAlign: \"center\",\n              children: [header, /*#__PURE__*/_jsx(Header.Subheader, {\n                children: subHeader\n              }), btnPath && btnText && /*#__PURE__*/_jsx(Button, {\n                color: \"linkedin\",\n                style: {\n                  marginTop: \"1rem\"\n                },\n                onClick: function onClick() {\n                  return Router.push(btnPath);\n                },\n                children: btnText\n              })]\n            })\n          })\n        })\n      }), !smallLeaderboard ? \"\" : /*#__PURE__*/_jsx(Divider, {\n        horizontal: true,\n        children: dividerText\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [showLeaderboard(leaderboardData), /*#__PURE__*/_jsx(Container, {\n      style: smallLeaderboard ? {\n        minHeight: heightOverride || \"67vh\"\n      } : {\n        minHeight: heightOverride || null\n      },\n      children: children\n    })]\n  });\n};\n\nexport default Layout;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/user/[site]/admin/[service]/email\",\n        function () {\n          return require(\"private-next-pages/user/[site]/admin/[service]/email.js\");\n        }\n      ]);\n    ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/rjb/Desktop/code/projects/rfp/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/rjb/Desktop/code/projects/rfp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/rjb/Desktop/code/projects/rfp/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect, useState } from \"react\";\nimport { Card, Segment, Form, Input, TextArea, Button, Container } from \"semantic-ui-react\";\nimport { useRequest } from \"../../hooks/use-request\";\nimport Router, { useRouter } from \"next/router\";\nimport DeleteProduct from \"../admin-site/delete-product\";\nimport Editor from \"../email\";\n\nvar UpdateOrderEmail = function UpdateOrderEmail(_ref) {\n  var email = _ref.email,\n      path = _ref.path,\n      ownerId = _ref.ownerId;\n\n  var _useState = useState({\n    subject: \"\",\n    body: \"\",\n    oldBody: \"\",\n    productId: \"\",\n    loading: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var _useRequest = useRequest({\n    url: \"/api/notification/email-by-product/\".concat(ownerId, \"/\").concat(values.productId),\n    method: \"put\",\n    body: {\n      subject: values.subject,\n      body: values.body || values.oldBody\n    },\n    onSuccess: function onSuccess() {\n      return Router.push(path);\n    }\n  }),\n      doRequest = _useRequest.doRequest,\n      errors = _useRequest.errors;\n\n  useEffect(function () {\n    if (email) {\n      var subject = email.subject,\n          productId = email.productId,\n          body = email.body;\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        subject: subject,\n        oldBody: body,\n        productId: productId\n      }));\n    }\n  }, []);\n\n  var handleChange = function handleChange(name) {\n    return function (evt) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, name, evt.target.value)));\n    };\n  };\n\n  var handleBodyChange = function handleBodyChange(body) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      body: body\n    }));\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              evt && evt.preventDefault();\n              setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: true\n              }));\n              _context.next = 4;\n              return doRequest();\n\n            case 4:\n              res = _context.sent;\n              setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false\n              }));\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var formCard = function formCard() {\n    var subject = values.subject,\n        body = values.body,\n        loading = values.loading;\n    return /*#__PURE__*/_jsxs(Card, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsx(Card.Content, {\n        children: /*#__PURE__*/_jsxs(Form, {\n          loading: loading,\n          children: [/*#__PURE__*/_jsxs(Form.Field, {\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              children: \"Subject\"\n            }), /*#__PURE__*/_jsx(Input, {\n              placeholder: \"subject\",\n              onChange: handleChange(\"subject\"),\n              className: \"form-control\",\n              value: subject\n            })]\n          }), /*#__PURE__*/_jsx(Form.Field, {\n            children: /*#__PURE__*/_jsx(Editor, {\n              onBodyChange: handleBodyChange,\n              oldBody: values.oldBody\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(Button, {\n        type: \"submit\",\n        fluid: true,\n        onClick: handleSubmit,\n        children: \"Update\"\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(Container, {\n    style: {\n      minHeight: \"90vh\"\n    },\n    children: [/*#__PURE__*/_jsx(Segment, {\n      children: formCard()\n    }), \";\"]\n  });\n};\n\nexport default UpdateOrderEmail;","import _regeneratorRuntime from \"/Users/rjb/Desktop/code/projects/rfp/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/rjb/Desktop/code/projects/rfp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// create the email associated with this service\nimport { buildClient } from \"../../../../../api/build-client\";\nimport UpdateOrderEmail from \"../../../../../components/user-site/UpdateOrderEmail\";\nimport Layout from \"../../../../../components/layouts\";\nimport { useRouter } from \"next/router\";\n\nvar index = function index(_ref) {\n  var email = _ref.email,\n      ownerId = _ref.ownerId;\n  return /*#__PURE__*/_jsx(Layout, {\n    leaderboardData: {\n      header: \"Customize your automated reply\",\n      subHeader: \"This is email is sent immediately upon receipt of order\"\n    },\n    children: /*#__PURE__*/_jsx(UpdateOrderEmail, {\n      email: email,\n      path: useRouter().asPath,\n      ownerId: ownerId\n    })\n  });\n};\n\nindex.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var _yield$buildClient$ge, product, _yield$buildClient$ge2, email;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return buildClient(context).get(\"/api/product/\".concat(context.query.site, \"/\").concat(context.query.service));\n\n          case 2:\n            _yield$buildClient$ge = _context.sent;\n            product = _yield$buildClient$ge.data;\n            _context.next = 6;\n            return buildClient(context).get(\"/api/notification/email-by-product/\".concat(product.id));\n\n          case 6:\n            _yield$buildClient$ge2 = _context.sent;\n            email = _yield$buildClient$ge2.data;\n            return _context.abrupt(\"return\", {\n              email: email,\n              ownerId: product.site.ownerId\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default index;"]}}