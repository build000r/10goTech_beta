{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/robbaratta/Desktop/code/projects/rfp/client/components/auth/signup.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, Fragment, useEffect } from \"react\";\nimport { Form, Message } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport { useRequest } from \"../../hooks/use-request\";\n\nvar Signup = function Signup() {\n  _s();\n\n  var _useState = useState({\n    userOfSite: \"rfp\",\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    password: \"\",\n    success: false,\n    error: false,\n    msg: \"\",\n    loading: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var _useRequest = useRequest({\n    url: \"/api/users/signup/\".concat(userOfSite),\n    // MUST CHANGE\n    method: \"post\",\n    body: {\n      name: name,\n      email: email,\n      phone: phone,\n      password: password\n    }\n  }),\n      doRequest = _useRequest.doRequest,\n      errors = _useRequest.errors;\n\n  var name = values.name,\n      phone = values.phone,\n      email = values.email,\n      password = values.password,\n      success = values.success,\n      loading = values.loading,\n      error = values.error,\n      msg = values.msg,\n      userOfSite = values.userOfSite;\n\n  var handleChange = function handleChange(name) {\n    return function (e) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({\n        msg: \"\",\n        error: false\n      }, name, e.target.value)));\n    };\n  };\n\n  var clickSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault(); // keep browser from reloading when btn click\n\n              doRequest();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function clickSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var redirectAfterLogin = function redirectAfterLogin() {\n    console.log(\"redirecting..\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    success: success,\n    loading: loading,\n    children: success ? redirectAfterLogin() : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n        onChange: handleChange(\"name\"),\n        error: showError(\"name\"),\n        value: name,\n        fluid: true,\n        placeholder: \"Name\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        onChange: handleChange(\"phone\"),\n        error: showError(\"phone\"),\n        value: phone,\n        fluid: true,\n        placeholder: \"Phone\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        onChange: handleChange(\"email\"),\n        error: showError(\"email\"),\n        value: email,\n        fluid: true,\n        placeholder: \"Email\",\n        type: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        onChange: handleChange(\"password\"),\n        error: showError(\"password\"),\n        value: password,\n        fluid: true,\n        placeholder: \"Password\",\n        type: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Form.Button, {\n        fluid: true,\n        onClick: clickSubmit,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Signup, \"eDinw+21h4MoYs/v5txtwx6ntIw=\", false, function () {\n  return [useRequest];\n});\n\n_c = Signup;\nexport { Signup };\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/robbaratta/Desktop/code/projects/rfp/client/components/auth/signup.js"],"names":["useState","Fragment","useEffect","Form","Message","axios","useRequest","Signup","userOfSite","name","phone","email","password","success","error","msg","loading","values","setValues","url","method","body","doRequest","errors","handleChange","e","target","value","clickSubmit","event","preventDefault","redirectAfterLogin","console","log","showError"],"mappings":"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","sourcesContent":["import { useState, Fragment, useEffect } from \"react\";\nimport { Form, Message } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport { useRequest } from \"../../hooks/use-request\";\n\nconst Signup = () => {\n  const [values, setValues] = useState({\n    userOfSite: \"rfp\",\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    password: \"\",\n    success: false,\n    error: false,\n    msg: \"\",\n    loading: false,\n  });\n\n  const { doRequest, errors } = useRequest({\n    url: `/api/users/signup/${userOfSite}`, // MUST CHANGE\n    method: \"post\",\n    body: {\n      name,\n      email,\n      phone,\n      password,\n    },\n  });\n\n  const {\n    name,\n    phone,\n    email,\n    password,\n    success,\n    loading,\n    error,\n    msg,\n    userOfSite,\n  } = values;\n\n  const handleChange = (name) => (e) => {\n    setValues({ ...values, msg: \"\", error: false, [name]: e.target.value });\n  };\n\n  const clickSubmit = async (event) => {\n    event.preventDefault(); // keep browser from reloading when btn click\n\n    doRequest();\n  };\n\n  const redirectAfterLogin = () => {\n    console.log(\"redirecting..\");\n  };\n\n  return (\n    <Form success={success} loading={loading}>\n      {success ? (\n        redirectAfterLogin()\n      ) : (\n        <Fragment>\n          <Form.Input\n            onChange={handleChange(\"name\")}\n            error={showError(\"name\")}\n            value={name}\n            fluid\n            placeholder=\"Name\"\n            type=\"text\"\n          />\n          <Form.Input\n            onChange={handleChange(\"phone\")}\n            error={showError(\"phone\")}\n            value={phone}\n            fluid\n            placeholder=\"Phone\"\n            type=\"text\"\n          />\n          <Form.Input\n            onChange={handleChange(\"email\")}\n            error={showError(\"email\")}\n            value={email}\n            fluid\n            placeholder=\"Email\"\n            type=\"email\"\n          />\n          <Form.Input\n            onChange={handleChange(\"password\")}\n            error={showError(\"password\")}\n            value={password}\n            fluid\n            placeholder=\"Password\"\n            type=\"Password\"\n          />\n          <Form.Button fluid onClick={clickSubmit}>\n            Sign Up\n          </Form.Button>\n        </Fragment>\n      )}\n    </Form>\n  );\n};\n\nexport { Signup };\n"]},"metadata":{},"sourceType":"module"}