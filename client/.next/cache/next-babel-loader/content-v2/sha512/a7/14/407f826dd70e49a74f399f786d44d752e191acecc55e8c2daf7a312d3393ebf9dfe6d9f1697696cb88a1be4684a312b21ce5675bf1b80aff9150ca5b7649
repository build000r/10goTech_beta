{"ast":null,"code":"import _defineProperty from \"/Users/rjb/Desktop/code/projects/rfp/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, Fragment, useEffect } from \"react\";\nimport { Visibility, Menu, Label, Header as sUiHeader, Button, Icon, Divider } from \"semantic-ui-react\";\nimport Router, { useRouter } from \"next/router\";\nimport { itemTotal } from \"../../hooks/cart-helpers\";\nimport { useMediaQuery } from \"../../hooks/use-media-query\";\nvar menuStyle = {\n  border: \"0px\",\n  borderRadius: 0,\n  boxShadow: \"none\",\n  marginTop: \"0\"\n};\nvar fixedMenuStyle = {\n  border: \"0px\",\n  borderRadius: 0,\n  backgroundColor: \"#fff\",\n  borderBottom: \"1px\",\n  boxShadow: \"0px 3px 5px rgba(0, 0, 0, 0.2)\"\n};\n\nvar Header = function Header(_ref) {\n  var _jsxs2;\n\n  var user = _ref.user,\n      authUserIsAdmin = _ref.authUserIsAdmin;\n\n  var _useState = useState(false),\n      menuFixed = _useState[0],\n      setMenuFixed = _useState[1];\n\n  var site = useRouter().query.site;\n\n  var stickTopMenu = function stickTopMenu() {\n    return setMenuFixed(true);\n  };\n\n  var unStickTopMenu = function unStickTopMenu() {\n    return setMenuFixed(false);\n  };\n\n  var _useState2 = useState(false),\n      mobile = _useState2[0],\n      setMobile = _useState2[1];\n\n  var navigate = function navigate(url) {\n    setMobile(false);\n    Router.push(url);\n  };\n\n  var showMenuButtons = function showMenuButtons() {\n    return /*#__PURE__*/_jsxs(Fragment, {\n      children: [/*#__PURE__*/_jsx(Menu.Item, {\n        onClick: function onClick() {\n          return navigate(\"/user/\".concat(site));\n        },\n        active: useRouter().pathname === \"/user/[site]\",\n        children: \"Home\"\n      }), /*#__PURE__*/_jsx(Menu.Item, {\n        onClick: function onClick() {\n          return navigate(\"/user/\".concat(site, \"/services\"));\n        },\n        active: useRouter().pathname === \"/user/[site]/services\",\n        children: \"Services\"\n      }), authUserIsAdmin ? null : /*#__PURE__*/_jsxs(Menu.Item, {\n        onClick: function onClick() {\n          return navigate(\"/user/\".concat(site, \"/cart\"));\n        },\n        active: useRouter().pathname === \"/user/[site]/cart\",\n        children: [\"Cart\", itemTotal() > 0 ? /*#__PURE__*/_jsx(Label, {\n          color: \"green\",\n          style: !mobile ? {\n            right: \"-14px\"\n          } : {\n            right: \"10px\",\n            bottom: \"9px\"\n          },\n          circular: true,\n          attached: \"bottom right\",\n          children: itemTotal()\n        }) : \"\"]\n      }), /*#__PURE__*/_jsx(Menu.Menu, {\n        position: \"right\",\n        children: !user ? /*#__PURE__*/_jsxs(Fragment, {\n          children: [/*#__PURE__*/_jsx(Menu.Item, {\n            onClick: function onClick() {\n              return navigate(\"/user/\".concat(site, \"/auth/signin\"));\n            },\n            as: \"a\",\n            active: useRouter().pathname === \"/user/[site]/auth/signin\",\n            children: \"Sign In\"\n          }), /*#__PURE__*/_jsx(Menu.Item, {\n            onClick: function onClick() {\n              return navigate(\"/user/\".concat(site, \"/auth/signup\"));\n            },\n            as: \"a\",\n            active: useRouter().pathname === \"/user/[site]/auth/signup\",\n            children: \"Sign Up\"\n          })]\n        }) : /*#__PURE__*/_jsx(Menu.Item, {\n          onClick: function onClick() {\n            return navigate(user.userOfSite === \"rfp\" ? \"/user/\".concat(site, \"/admin\") : \"/user/\".concat(site, \"/user\"));\n          },\n          active: useRouter().pathname === (user.userOfSite === \"rfp\" ? \"/user/\".concat(site, \"/admin\") : \"/user/\".concat(site, \"/user\")),\n          children: \"Account\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(Visibility, {\n      onPassing: stickTopMenu,\n      onBottomVisible: unStickTopMenu,\n      once: false,\n      children: /*#__PURE__*/_jsxs(Menu, (_jsxs2 = {\n        stackable: useMediaQuery(600),\n        fluid: useMediaQuery(600),\n        secondary: !useMediaQuery(600) || !mobile,\n        fixed: \"top\",\n        style: fixedMenuStyle\n      }, _defineProperty(_jsxs2, \"style\", {\n        margin: \"0\",\n        backgroundColor: \"white\"\n      }), _defineProperty(_jsxs2, \"children\", [!useMediaQuery(600) ? showMenuButtons() : mobile ? showMenuButtons() : null, useMediaQuery(600) ? /*#__PURE__*/_jsx(Menu.Item, {\n        style: {\n          height: \"36px\"\n        },\n        onClick: function onClick() {\n          return setMobile(!mobile);\n        },\n        fluid: mobile.toString(),\n        icon: true,\n        children: /*#__PURE__*/_jsx(Icon, {\n          name: !mobile ? \"angle double down\" : \"angle double up\"\n        })\n      }) : null]), _jsxs2))\n    })\n  });\n};\n\nexport { Header as SiteHeader };","map":null,"metadata":{},"sourceType":"module"}