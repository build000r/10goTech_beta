{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Segment, Header, Card, Item } from \"semantic-ui-react\";\nimport { buildClient } from \"../../../../api/build-client\";\nimport moment from \"moment\";\nimport Layout from \"../../../../components/layouts\";\n\nconst orders = ({\n  orders\n}) => {\n  const purchaseHistoryCard = history => {\n    return /*#__PURE__*/_jsxs(Layout, {\n      smallLeaderboard: true,\n      leaderboardData: {\n        header: \"Client Portal\",\n        subHeader: \"Place order\",\n        dividerText: \"What would you like to do?\"\n      },\n      children: [/*#__PURE__*/_jsxs(Header, {\n        textAlign: \"center\",\n        children: [\"Requests Submitted\", /*#__PURE__*/_jsx(Header.Subheader, {\n          children: \"Please check your email for further details on how to proceed.\"\n        })]\n      }), /*#__PURE__*/_jsx(Card.Group, {\n        centered: true,\n        children: history.map((h, i) => {\n          return h.products.map((p, i) => {\n            return /*#__PURE__*/_jsx(Card, {\n              style: {\n                display: \"flex\",\n                alignItems: \"flex-start\"\n              },\n              children: /*#__PURE__*/_jsxs(Item.Content, {\n                style: {\n                  marginLeft: \"10px\",\n                  marginTop: \"10px\"\n                },\n                children: [/*#__PURE__*/_jsx(Item.Header, {\n                  as: \"a\",\n                  children: p.title\n                }), /*#__PURE__*/_jsx(Item.Description, {\n                  children: h.status\n                }), /*#__PURE__*/_jsx(Item.Description, {\n                  children: moment(h.createdAt).fromNow()\n                }), /*#__PURE__*/_jsxs(Item.Description, {\n                  children: [\" \", p.clickOptionsSelected.map(o => /*#__PURE__*/_jsxs(Item.Extra, {\n                    children: [/*#__PURE__*/_jsx(\"i\", {\n                      class: \"check icon\"\n                    }), o.name]\n                  })), /*#__PURE__*/_jsxs(Item.Extra, {\n                    children: [/*#__PURE__*/_jsx(\"i\", {\n                      class: \"sticky note outline icon\"\n                    }), \" \", p.userMessage]\n                  })]\n                })]\n              })\n            }, i);\n          });\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: purchaseHistoryCard(orders)\n  });\n};\n\norders.getInitialProps = async context => {\n  const client = buildClient(context);\n  const {\n    data: currentUser\n  } = await client.get(\"/api/users/currentuser\");\n  const user = currentUser.currentUser;\n  const {\n    data: orders\n  } = await client.get(`/api/orders/${user.userOfSite}`);\n  return {\n    user,\n    orders\n  };\n};\n\nexport default orders;","map":null,"metadata":{},"sourceType":"module"}