{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { buildClient } from \"../../../../api/build-client\";\nimport Layout from \"../../../../components/layouts\";\nimport CheckoutCard from \"../../../../components/user-site/CheckoutCard\";\n\nconst services = ({\n  product,\n  isAdmin\n}) => {\n  return /*#__PURE__*/_jsx(Layout, {\n    smallLeaderboard: true,\n    leaderboardData: {\n      header: product.title,\n      subHeader: product.brief,\n      dividerText: \"Details\"\n    },\n    children: /*#__PURE__*/_jsx(CheckoutCard, {\n      product: product,\n      isAdmin: isAdmin\n    })\n  });\n};\n\nservices.getInitialProps = async context => {\n  const {\n    data: product\n  } = await buildClient(context).get(`/api/product/${context.query.site}/${context.query.service}`);\n  const {\n    data: currentUser\n  } = await buildClient(context).get(\"/api/users/currentuser\");\n  const user = currentUser.currentUser;\n  const {\n    data: site\n  } = await buildClient(context).get(`/api/site/${context.query.site}`);\n  let isAdmin;\n\n  if (user) {\n    isAdmin = site.ownerId === user.id;\n  } else {\n    isAdmin = false;\n  }\n\n  return {\n    product,\n    isAdmin\n  };\n};\n\nexport default services;","map":null,"metadata":{},"sourceType":"module"}