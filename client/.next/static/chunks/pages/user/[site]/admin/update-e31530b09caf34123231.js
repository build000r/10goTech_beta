_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[46],{"4ZY9":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r("vDqi"),n=r.n(a),i=function(e){e.req;return n.a.create({baseURL:"/"})}},"9vwZ":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/[site]/admin/update",function(){return r("Y41p")}])},HPDO:function(e,t,r){"use strict";var a=r("nKUr"),n=r("q1tI"),i=r("3mGJ"),c=r("+6Dn"),l=r("aQu0"),s=r("QetY"),o=r("Mt1y"),u=r("yE/o"),b=r("20a2"),j=r.n(b);t.a=function(e){var t=e.children,r=e.fullPageLeaderboard,b=e.smallLeaderboard,d=e.leaderboardData,h=e.heightOverride;return Object(a.jsxs)(n.Fragment,{children:[function(e){var t=e.header,n=e.subHeader,u=e.btnText,d=e.btnPath,h=e.dividerText;return Object(a.jsxs)(i.a,{basic:!0,style:r?{minHeight:"calc(100vh - 2rem)"}:{minHeight:"33vh"},children:[Object(a.jsx)(c.a,{columns:1,centered:!0,style:r?{minHeight:"calc(100vh - 2rem)"}:{minHeight:"33vh"},children:Object(a.jsx)(c.a.Row,{verticalAlign:"middle",children:Object(a.jsx)(c.a.Column,{children:Object(a.jsxs)(l.a,{as:"h2",textAlign:"center",children:[t,Object(a.jsx)(l.a.Subheader,{children:n}),d&&u&&Object(a.jsx)(s.a,{color:"linkedin",style:{marginTop:"1rem"},onClick:function(){return j.a.push(d)},children:u})]})})})}),b?Object(a.jsx)(o.a,{horizontal:!0,children:h}):""]})}(d),Object(a.jsx)(u.a,{style:b?{minHeight:h||"67vh"}:{minHeight:h||null},children:t})]})}},Y41p:function(e,t,r){"use strict";r.r(t);var a=r("nKUr"),n=r("o0o1"),i=r.n(n),c=r("HaE+"),l=r("rePB"),s=r("20a2"),o=r.n(s),u=r("q1tI"),b=r("vFsZ"),j=r("umxb"),d=r("yZlV"),h=r("Mt1y"),O=r("aQu0"),p=r("D1pA"),m=r("4ZY9"),g=r("qYya"),f=r("HPDO"),v=r("TbSc");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(e){var t=e.config,r=Object(u.useState)({loading:!1,submitted:!1,title:t.title,mailjetFromEmail:t.mailjetFromEmail,mailjetFromName:t.mailjetFromName}),n=r[0],s=r[1],o=Object(g.a)({url:"/api/notification/config",method:"put",body:{title:n.title,mailjetFromEmail:n.mailjetFromEmail,mailjetFromName:n.mailjetFromName}}),d=o.doRequest,m=o.errors,f=(o.errMsgArr,function(e){return function(t){s(y(y({},n),{},Object(l.a)({},e,t.target.value)))}}),x=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(y(y({},n),{},{loading:!0})),e.next=4,d();case 4:s(y(y({},n),{},{loading:!1,submitted:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(b.a,{onSubmit:x,loading:n.loading,children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),m,Object(a.jsx)(h.a,{horizontal:!0,children:Object(a.jsxs)(O.a,{as:"h4",children:[Object(a.jsx)(p.a,{name:"mail"}),"Email Automation Config"]})})," ",Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)(j.a,{value:n.mailjetFromEmail,placeholder:n.mailjetFromEmail||"Enter new sendgrid email blurb...",onChange:f("mailjetFromEmail")})]}),Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Name"}),Object(a.jsx)(j.a,{value:n.mailjetFromName,placeholder:n.mailjetFromName||"Enter new sendgrid email blurb...",onChange:f("mailjetFromName")})]}),n.submitted?Object(a.jsx)(v.a,{header:"Check your email",content:"Follow the steps sent from `MailJet` to activate your new email"}):"",Object(a.jsx)(b.a.Button,{floated:"right",children:"Update Email Configuration"})]})};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e){var t=e.site,r=e.config,n=Object(u.useState)({title:t.title,homeTitle:t.homeTitle,tagline:t.tagline,aboutUsTitle:t.aboutUsTitle,aboutUsBlurb:t.aboutUsBlurb,loading:!1,privacyPolicy:t.privacyPolicy,termsOfService:t.termsOfService,servicesPageHeadline:t.servicesPageHeadline,servicesPageSubheadline:t.servicesPageSubheadline}),m=n[0],v=n[1],x=Object(g.a)({url:"/api/site/".concat(Object(s.useRouter)().query.site),method:"put",body:{title:m.title,homeTitle:m.homeTitle,tagline:m.tagline,aboutUsBlurb:m.aboutUsBlurb,aboutUsTitle:m.aboutUsTitle,privacyPolicy:m.privacyPolicy,termsOfService:m.termsOfService,servicesPageHeadline:m.servicesPageHeadline,servicesPageSubheadline:m.servicesPageSubheadline},onSuccess:function(){return o.a.push("/user/".concat(m.title))}}),y=x.doRequest,w=x.errors,E=x.errMsgArr,F=function(e){return function(t){v(S(S({},m),{},Object(l.a)({},e,t.target.value)))}},T=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(S(S({},m),{},{loading:!0})),e.next=4,y();case 4:v(S(S({},m),{},{loading:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(f.a,{smallLeaderboard:!0,leaderboardData:{header:"Website Details",subHeader:"Update the content and configuration of your website",dividerText:"Configure"},heightOverride:"1500px",children:[Object(a.jsxs)(b.a,{onSubmit:T,loading:m.loading,children:[Object(a.jsx)("br",{}),w,Object(a.jsxs)(b.a.Field,{error:E&&E.includes("This title has been reserved by another user."),children:[Object(a.jsx)("label",{children:"Site Title "}),Object(a.jsx)(j.a,{style:{maxWidth:"300px"},label:".10gotech.com",labelPosition:"right",value:m.title,placeholder:m.title||"Your title",onChange:F("title")})]}),Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Header"}),Object(a.jsx)(j.a,{value:m.homeTitle,placeholder:m.homeTitle||"Your headline",onChange:F("homeTitle")})]}),Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Sub header"}),Object(a.jsx)(j.a,{value:m.tagline,placeholder:m.tagline||"Your tagline",onChange:F("tagline")})]}),Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Section Header"}),Object(a.jsx)(j.a,{value:m.aboutUsTitle,placeholder:m.aboutUsTitle||"Your About Us Header",onChange:F("aboutUsTitle")})]}),Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Section Paragraph"}),Object(a.jsx)(d.a,{value:m.aboutUsBlurb,placeholder:m.aboutUsBlurb||"Your About Us Paragraph",onChange:F("aboutUsBlurb")})]}),Object(a.jsx)(h.a,{horizontal:!0,children:Object(a.jsxs)(O.a,{as:"h4",children:[Object(a.jsx)(p.a,{name:"money"}),"Services"]})})," ",Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Enter new services page headline"}),Object(a.jsx)(j.a,{value:m.servicesPageHeadline,placeholder:m.servicesPageHeadline||"Enter new services page headline...",onChange:F("servicesPageHeadline")})]}),Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Enter new services page subheadline"}),Object(a.jsx)(j.a,{value:m.servicesPageSubheadline,placeholder:m.servicesPageSubheadline||"Enter new services page subheadline...",onChange:F("servicesPageSubheadline")})]}),Object(a.jsx)(h.a,{horizontal:!0,children:Object(a.jsxs)(O.a,{as:"h4",children:[Object(a.jsx)(p.a,{name:"law"}),"Legal"]})})," ",Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Custom privacy policy for your website"}),Object(a.jsx)(d.a,{value:m.privacyPolicy,placeholder:m.privacyPolicy||"Enter new privacy policy...",onChange:F("privacyPolicy")})]}),Object(a.jsxs)(b.a.Field,{children:[Object(a.jsx)("label",{children:"Custom terms of service for your website"}),Object(a.jsx)(d.a,{value:m.termsOfService,placeholder:m.termsOfService||"Enter new terms of service...",onChange:F("termsOfService")})]}),Object(a.jsx)(b.a.Button,{floated:"right",children:"Update"})]}),Object(a.jsx)(P,{config:r})]})};E.getInitialProps=function(){var e=Object(c.a)(i.a.mark((function e(t){var r,a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)(t).get("/api/site/".concat(t.query.site));case 2:return r=e.sent,a=r.data,e.next=6,Object(m.a)(t).get("/api/notification/config/".concat(t.query.site));case 6:return n=e.sent,c=n.data,e.abrupt("return",{site:a,config:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=E},qYya:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var a=r("o0o1"),n=r.n(a),i=r("nKUr"),c=r("rePB"),l=r("HaE+"),s=r("vDqi"),o=r.n(s),u=r("q1tI"),b=r("TbSc"),j=r("WYlG");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){var t=e.url,r=e.method,a=e.body,c=e.onSuccess,s=Object(u.useState)(null),d=s[0],O=s[1],p=Object(u.useState)(null),m=p[0],g=p[1];return{doRequest:function(){var e=Object(l.a)(n.a.mark((function e(){var l,s,u=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=u.length>0&&void 0!==u[0]?u[0]:{},e.prev=1,O(null),e.next=5,o.a[r](t,h(h({},a),l));case 5:return s=e.sent,c&&c(s.data),e.abrupt("return",s.data);case 10:e.prev=10,e.t0=e.catch(1),console.log(" did you import Router from next/router?",e.t0),O(Object(i.jsxs)(b.a,{negative:!0,children:[Object(i.jsx)(b.a.Header,{children:"There is a problem with the form submission."}),Object(i.jsx)(j.a,{as:"ul",children:e.t0.response.data.errors.map((function(e){return Object(i.jsx)(j.a.Item,{as:"li",children:e.message},e.message)}))})]})),g(e.t0.response.data.errors.map((function(e){return e.message})));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),errors:d,errMsgArr:m}}}},[["9vwZ",1,2,0,3,4,5,6,7,8,9]]]);