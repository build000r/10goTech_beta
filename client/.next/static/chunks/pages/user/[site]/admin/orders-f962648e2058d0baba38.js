_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[47],{"4ZY9":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r("vDqi"),n=r.n(a),c=function(e){e.req;return n.a.create({baseURL:"/"})}},HPDO:function(e,t,r){"use strict";var a=r("nKUr"),n=r("q1tI"),c=r("3mGJ"),s=r("+6Dn"),i=r("aQu0"),o=r("QetY"),l=r("Mt1y"),u=r("yE/o"),d=r("20a2"),j=r.n(d);t.a=function(e){var t=e.children,r=e.fullPageLeaderboard,d=e.smallLeaderboard,b=e.leaderboardData,O=e.heightOverride;return Object(a.jsxs)(n.Fragment,{children:[function(e){var t=e.header,n=e.subHeader,u=e.btnText,b=e.btnPath,O=e.dividerText;return Object(a.jsxs)(c.a,{basic:!0,style:r?{minHeight:"calc(100vh - 2rem)"}:{minHeight:"33vh"},children:[Object(a.jsx)(s.a,{columns:1,centered:!0,style:r?{minHeight:"calc(100vh - 2rem)"}:{minHeight:"33vh"},children:Object(a.jsx)(s.a.Row,{verticalAlign:"middle",children:Object(a.jsx)(s.a.Column,{children:Object(a.jsxs)(i.a,{as:"h2",textAlign:"center",children:[t,Object(a.jsx)(i.a.Subheader,{children:n}),b&&u&&Object(a.jsx)(o.a,{color:"linkedin",style:{marginTop:"1rem"},onClick:function(){return j.a.push(b)},children:u})]})})})}),d?Object(a.jsx)(l.a,{horizontal:!0,children:O}):""]})}(b),Object(a.jsx)(u.a,{style:d?{minHeight:O||"67vh"}:{minHeight:O||null},children:t})]})}},MPSb:function(e,t,r){"use strict";var a=r("wx14"),n=r("iuhU"),c=(r("17x9"),r("q1tI")),s=r.n(c),i=r("ICNK"),o=r("Y53p"),l=r("H+2d"),u=r("ZeOK"),d=r("MZgk");function j(e){var t=e.children,r=e.className,c=e.content,u=Object(n.a)("header",r),d=Object(i.a)(j,e),b=Object(o.a)(j,e);return s.a.createElement(b,Object(a.a)({},d,{className:u}),l.a.isNil(t)?c:t)}j.handledProps=["as","children","className","content"],j.propTypes={},j.create=Object(d.f)(j,(function(e){return{content:e}}));var b=j;function O(e){var t=e.children,r=e.className,c=e.content,u=Object(n.a)("description",r),d=Object(i.a)(O,e),j=Object(o.a)(O,e);return s.a.createElement(j,Object(a.a)({},d,{className:u}),l.a.isNil(t)?c:t)}O.handledProps=["as","children","className","content"],O.propTypes={},O.create=Object(d.f)(O,(function(e){return{content:e}}));var h=O;function p(e){var t=e.children,r=e.className,c=e.content,u=Object(n.a)("extra",r),d=Object(i.a)(p,e),j=Object(o.a)(p,e);return s.a.createElement(j,Object(a.a)({},d,{className:u}),l.a.isNil(t)?c:t)}p.handledProps=["as","children","className","content"],p.propTypes={},p.create=Object(d.f)(p,(function(e){return{content:e}}));var m=p;function f(e){var t=e.children,r=e.className,c=e.content,u=Object(n.a)("meta",r),d=Object(i.a)(f,e),j=Object(o.a)(f,e);return s.a.createElement(j,Object(a.a)({},d,{className:u}),l.a.isNil(t)?c:t)}f.handledProps=["as","children","className","content"],f.propTypes={},f.create=Object(d.f)(f,(function(e){return{content:e}}));var x=f;function v(e){var t=e.children,r=e.className,c=e.content,d=e.description,j=e.extra,O=e.header,p=e.meta,f=e.verticalAlign,N=Object(n.a)(Object(u.f)(f),"content",r),y=Object(i.a)(v,e),g=Object(o.a)(v,e);return l.a.isNil(t)?s.a.createElement(g,Object(a.a)({},y,{className:N}),b.create(O,{autoGenerateKey:!1}),x.create(p,{autoGenerateKey:!1}),h.create(d,{autoGenerateKey:!1}),m.create(j,{autoGenerateKey:!1}),c):s.a.createElement(g,Object(a.a)({},y,{className:N}),t)}v.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],v.propTypes={};var N=v,y=r("zLVn"),g=r("zmn3");function w(e){var t=e.children,r=e.className,c=e.content,d=e.divided,j=e.items,b=e.link,O=e.relaxed,h=e.unstackable,p=Object(n.a)("ui",Object(u.a)(d,"divided"),Object(u.a)(b,"link"),Object(u.a)(h,"unstackable"),Object(u.b)(O,"relaxed"),"items",r),m=Object(i.a)(w,e),f=Object(o.a)(w,e);if(!l.a.isNil(t))return s.a.createElement(f,Object(a.a)({},m,{className:p}),t);if(!l.a.isNil(c))return s.a.createElement(f,Object(a.a)({},m,{className:p}),c);var x=Object(g.a)(j,(function(e){var t=e.childKey,r=Object(y.a)(e,["childKey"]),n=null!=t?t:[r.content,r.description,r.header,r.meta].join("-");return s.a.createElement(T,Object(a.a)({},r,{key:n}))}));return s.a.createElement(f,Object(a.a)({},m,{className:p}),x)}w.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],w.propTypes={};var k=w,E=r("5XkN");function P(e){var t=e.size,r=Object(i.a)(P,e);return s.a.createElement(E.a,Object(a.a)({},r,{size:t,ui:!!t,wrapped:!0}))}P.handledProps=["size"],P.propTypes={},P.create=Object(d.f)(P,(function(e){return{src:e}}));var C=P;function S(e){var t=e.children,r=e.className,c=e.content,u=e.description,d=e.extra,j=e.header,b=e.image,O=e.meta,h=Object(n.a)("item",r),p=Object(i.a)(S,e),m=Object(o.a)(S,e);return l.a.isNil(t)?s.a.createElement(m,Object(a.a)({},p,{className:h}),C.create(b,{autoGenerateKey:!1}),s.a.createElement(N,{content:c,description:u,extra:d,header:j,meta:O})):s.a.createElement(m,Object(a.a)({},p,{className:h}),t)}S.handledProps=["as","children","className","content","description","extra","header","image","meta"],S.Content=N,S.Description=h,S.Extra=m,S.Group=k,S.Header=b,S.Image=C,S.Meta=x,S.propTypes={};var T=t.a=S},NY2F:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("q1tI"),n=function(e){var t=Object(a.useState)(!1),r=t[0],n=t[1],c=Object(a.useCallback)((function(e){e.matches?n(!0):n(!1)}),[]);return Object(a.useEffect)((function(){var t=window.matchMedia("(max-width: ".concat(e,"px)"));return t.addListener(c),t.matches&&n(!0),function(){return t.removeListener(c)}}),[]),r}},"NgR/":function(e,t,r){"use strict";r.r(t);var a=r("nKUr"),n=r("o0o1"),c=r.n(n),s=r("HaE+"),i=r("rePB"),o=r("q1tI"),l=r("yE/o"),u=r("aQu0"),d=r("QetY"),j=r("pLir"),b=r("MPSb"),O=r("Mt1y"),h=r("z8k1"),p=r("MqQV"),m=r("4ZY9"),f=r("NY2F"),x=r("qYya"),v=r("20a2"),N=r.n(v),y=r("HPDO");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){var t=e.serverOrders,r=e.siteUsers,n=Object(o.useState)(t),i=n[0],m=n[1],g=Object(o.useState)(""),k=(g[0],g[1],Object(o.useState)("")),E=k[0],P=k[1],C=Object(o.useState)(!0);C[0],C[1];if(i&&0===i.length)return Object(a.jsx)(l.a,{style:{minHeight:"90vh"},children:Object(a.jsx)(u.a,{children:"When you receive your first order, it will show up here."})});var S=Object(v.useRouter)().asPath,T=Object(o.useState)({ownerNote:"Order is currently being reviewed",crmStatus:"",orderId:"",loading:!1}),D=T[0],H=T[1],A=D.ownerNote,K=D.crmStatus,q=D.orderId,M=Object(x.a)({url:"/api/order",method:"put",body:{ownerNote:A,crmStatus:K,orderId:q},onSuccess:function(){return N.a.push(S)}}),I=M.doRequest,G=(M.errors,[{key:"created",icon:"edit",text:"Created",value:"created"},{key:"following-up",icon:"phone",text:"Following up",value:"following-up"},{key:"closed-won",icon:"check",text:"Closed won",value:"closed-won"},{key:"closed-lost",icon:"delete",text:"Closed lost",value:"closed-lost"}]),R=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),H(w(w({},D),{},{loading:!0})),e.next=4,I();case 4:H(w(w({},D),{},{loading:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){return Object(a.jsxs)(d.a.Group,{floated:"right",color:"teal",children:[Object(a.jsx)(d.a,{onClick:R,children:"Update Status"}),Object(a.jsx)(j.a,{onChange:function(t){return H(w(w({},D),{},{crmStatus:G.filter((function(e){return e.text===t.target.outerText}))[0].key,orderId:e}))},className:"button icon",floating:!0,options:G,trigger:Object(a.jsx)(a.Fragment,{})})]})},z=function(e){var r=t.filter((function(t){return t.crmStatus===e}));P(""),r.length>0?m(r):P("There are no ".concat(e," items"))},Y=function(e){return e.map((function(e){var t=e.brief,r=e.clickOptionsSelected,n=e.id,c=(e.site,e.title),s=e.userMessage;return Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{horizontal:!0,children:"Service Requested"})," ",Object(a.jsxs)(b.a.Content,{children:[Object(a.jsx)(b.a.Header,{as:"h4",children:c}),Object(a.jsx)(b.a.Meta,{children:t}),r.map((function(e,t){return Object(a.jsxs)(b.a.Extra,{children:[Object(a.jsx)("i",{className:"check icon"}),e.name]},t)})),Object(a.jsxs)(b.a.Description,{children:[" ",Object(a.jsx)("i",{className:"sticky note outline icon"})," ",s]})]})]},n)}))};return Object(a.jsxs)(y.a,{smallLeaderboard:!0,leaderboardData:{header:"Order History",subHeader:"Keep track of clients, and the status of their projects.",dividerText:"Service Requests"},children:[Object(a.jsx)(b.a,{style:{width:"100%",marginBottom:"30px"},children:Object(a.jsxs)(b.a.Content,{children:[Object(a.jsx)(b.a.Meta,{children:E}),Object(a.jsxs)(d.a.Group,{fluid:!0,children:[Object(a.jsx)(d.a,{onClick:function(){return z("created")},children:"New"}),Object(a.jsx)(d.a,{onClick:function(){return z("following-up")},children:"Following-Up"}),Object(a.jsx)(d.a,{onClick:function(){return z("closed-won")},children:"Won"}),Object(a.jsx)(d.a,{onClick:function(){return z("closed-lost")},children:"Lost"})]})]})}),Object(a.jsx)(h.a.Group,{centered:!0,itemsPerRow:Object(f.a)(1e3)?1:3,children:i.map((function(e){var t,n=e.crmStatus,c=e.userId,s=e.products,i=e.id;i&&(t=function(e){return r.filter((function(t){return t.id===e||t._id===e}))}(c)[0]);var o=t,l=o.name,d=o.email,j=o.phone;o.createdAt;return Object(a.jsxs)(h.a,{children:[Object(a.jsxs)(h.a.Content,{children:[Object(a.jsx)(h.a.Meta,{children:Object(a.jsx)(u.a,{as:"h4"})}),Object(a.jsx)(b.a,{children:Object(a.jsxs)(b.a.Content,{children:[Object(a.jsx)(O.a,{horizontal:!0,children:"Customer info"}),Object(a.jsx)(b.a.Meta,{children:Object(a.jsx)("span",{children:l||null})}),Object(a.jsx)(b.a.Meta,{children:Object(a.jsx)("span",{children:d})}),Object(a.jsx)(b.a.Meta,{children:Object(a.jsx)("span",{children:j?"Phone #: ".concat(j," "):""})}),Object(a.jsx)(b.a.Description,{children:Y(s)})]})})]}),Object(a.jsxs)(h.a.Content,{extra:!0,children:[_(i),Object(a.jsx)(p.a,{children:n})]})]},i)}))})]})};k.getInitialProps=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,a,n,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)(t).get("/api/orders/".concat(t.query.site));case 2:return r=e.sent,a=r.data,e.next=6,Object(m.a)(t).get("/api/users/by-site/".concat(t.query.site));case 6:return n=e.sent,s=n.data,i=a.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),e.abrupt("return",{serverOrders:i,siteUsers:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.default=k},m7Ep:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/[site]/admin/orders",function(){return r("NgR/")}])},qYya:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a=r("o0o1"),n=r.n(a),c=r("nKUr"),s=r("rePB"),i=r("HaE+"),o=r("vDqi"),l=r.n(o),u=r("q1tI"),d=r("TbSc"),j=r("WYlG");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){var t=e.url,r=e.method,a=e.body,s=e.onSuccess,o=Object(u.useState)(null),b=o[0],h=o[1],p=Object(u.useState)(null),m=p[0],f=p[1];return{doRequest:function(){var e=Object(i.a)(n.a.mark((function e(){var i,o,u=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>0&&void 0!==u[0]?u[0]:{},e.prev=1,h(null),e.next=5,l.a[r](t,O(O({},a),i));case 5:return o=e.sent,s&&s(o.data),e.abrupt("return",o.data);case 10:e.prev=10,e.t0=e.catch(1),console.log(" did you import Router from next/router?",e.t0),h(Object(c.jsxs)(d.a,{negative:!0,children:[Object(c.jsx)(d.a.Header,{children:"There is a problem with the form submission."}),Object(c.jsx)(j.a,{as:"ul",children:e.t0.response.data.errors.map((function(e){return Object(c.jsx)(j.a.Item,{as:"li",children:e.message},e.message)}))})]})),f(e.t0.response.data.errors.map((function(e){return e.message})));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),errors:b,errMsgArr:m}}},z8k1:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var a=r("wx14"),n=r("dI71"),c=r("iuhU"),s=(r("17x9"),r("q1tI")),i=r.n(s),o=r("ZeOK"),l=r("ICNK"),u=r("Y53p"),d=r("H+2d"),j=r("5XkN"),b=r("MZgk");function O(e){var t=e.children,r=e.className,n=e.content,s=e.textAlign,j=Object(c.a)(Object(o.d)(s),"description",r),b=Object(l.a)(O,e),h=Object(u.a)(O,e);return i.a.createElement(h,Object(a.a)({},b,{className:j}),d.a.isNil(t)?n:t)}O.handledProps=["as","children","className","content","textAlign"],O.propTypes={};var h=O;function p(e){var t=e.children,r=e.className,n=e.content,s=e.textAlign,j=Object(c.a)(Object(o.d)(s),"header",r),b=Object(l.a)(p,e),O=Object(u.a)(p,e);return i.a.createElement(O,Object(a.a)({},b,{className:j}),d.a.isNil(t)?n:t)}p.handledProps=["as","children","className","content","textAlign"],p.propTypes={};var m=p;function f(e){var t=e.children,r=e.className,n=e.content,s=e.textAlign,j=Object(c.a)(Object(o.d)(s),"meta",r),b=Object(l.a)(f,e),O=Object(u.a)(f,e);return i.a.createElement(O,Object(a.a)({},b,{className:j}),d.a.isNil(t)?n:t)}f.handledProps=["as","children","className","content","textAlign"],f.propTypes={};var x=f;function v(e){var t=e.children,r=e.className,n=e.content,s=e.description,j=e.extra,O=e.header,p=e.meta,f=e.textAlign,N=Object(c.a)(Object(o.a)(j,"extra"),Object(o.d)(f),"content",r),y=Object(l.a)(v,e),g=Object(u.a)(v,e);return d.a.isNil(t)?d.a.isNil(n)?i.a.createElement(g,Object(a.a)({},y,{className:N}),Object(b.e)(m,(function(e){return{content:e}}),O,{autoGenerateKey:!1}),Object(b.e)(x,(function(e){return{content:e}}),p,{autoGenerateKey:!1}),Object(b.e)(h,(function(e){return{content:e}}),s,{autoGenerateKey:!1})):i.a.createElement(g,Object(a.a)({},y,{className:N}),n):i.a.createElement(g,Object(a.a)({},y,{className:N}),t)}v.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],v.propTypes={};var N=v,y=r("zmn3");function g(e){var t=e.centered,r=e.children,n=e.className,s=e.content,j=e.doubling,b=e.items,O=e.itemsPerRow,h=e.stackable,p=e.textAlign,m=Object(c.a)("ui",Object(o.a)(t,"centered"),Object(o.a)(j,"doubling"),Object(o.a)(h,"stackable"),Object(o.d)(p),Object(o.g)(O),"cards",n),f=Object(l.a)(g,e),x=Object(u.a)(g,e);if(!d.a.isNil(r))return i.a.createElement(x,Object(a.a)({},f,{className:m}),r);if(!d.a.isNil(s))return i.a.createElement(x,Object(a.a)({},f,{className:m}),s);var v=Object(y.a)(b,(function(e){var t,r=null!=(t=e.key)?t:[e.header,e.description].join("-");return i.a.createElement(k,Object(a.a)({key:r},e))}));return i.a.createElement(x,Object(a.a)({},f,{className:m}),v)}g.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],g.propTypes={};var w=g,k=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).handleClick=function(e){var r=t.props.onClick;r&&r(e,t.props)},t}return Object(n.a)(t,e),t.prototype.render=function(){var e=this.props,r=e.centered,n=e.children,s=e.className,b=e.color,O=e.content,h=e.description,p=e.extra,m=e.fluid,f=e.header,x=e.href,v=e.image,y=e.link,g=e.meta,w=e.onClick,k=e.raised,E=Object(c.a)("ui",b,Object(o.a)(r,"centered"),Object(o.a)(m,"fluid"),Object(o.a)(y,"link"),Object(o.a)(k,"raised"),"card",s),P=Object(l.a)(t,this.props),C=Object(u.a)(t,this.props,(function(){if(w)return"a"}));return d.a.isNil(n)?d.a.isNil(O)?i.a.createElement(C,Object(a.a)({},P,{className:E,href:x,onClick:this.handleClick}),j.a.create(v,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(h||f||g)&&i.a.createElement(N,{description:h,header:f,meta:g}),p&&i.a.createElement(N,{extra:!0},p)):i.a.createElement(C,Object(a.a)({},P,{className:E,href:x,onClick:this.handleClick}),O):i.a.createElement(C,Object(a.a)({},P,{className:E,href:x,onClick:this.handleClick}),n)},t}(s.Component);k.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],k.propTypes={},k.Content=N,k.Description=h,k.Group=w,k.Header=m,k.Meta=x}},[["m7Ep",1,2,0,3,4,5,6,7,8]]]);